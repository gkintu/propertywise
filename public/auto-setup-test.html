<!DOCTYPE html>
<html>
<head>
    <title>Auto Setup Test Data</title>
</head>
<body>
    <h1>Setting up test data...</h1>
    <p>This will automatically set up the correct test data and redirect to the analysis result page.</p>
    
    <script>
        // Test data that matches the expected PropertyAnalysis structure
        const testAnalysisData = {
            propertyDetails: {
                address: "Borgenvei 5, 0263 Oslo",
                price: 4200000,
                bedrooms: 3,
                size: 85,
                propertyType: "apartment",
                yearBuilt: 1995
            },
            strongPoints: [
                {
                    title: "Modern Kitchen",
                    description: "Recently upgraded kitchen with modern appliances and granite countertops"
                },
                {
                    title: "Great Location", 
                    description: "Walking distance to public transport and shopping centers"
                },
                {
                    title: "Storage Space",
                    description: "Excellent storage solutions throughout the apartment"
                },
                {
                    title: "Natural Light",
                    description: "Large windows providing abundant natural light"
                }
            ],
            concerns: [
                {
                    title: "Window Maintenance",
                    description: "Some windows may need replacement in the near future"
                },
                {
                    title: "Flooring Issues",
                    description: "Hardwood floors show signs of wear and may need refinishing"
                },
                {
                    title: "Bathroom Updates",
                    description: "Bathroom fixtures are dated and could benefit from modernization"
                },
                {
                    title: "Electrical System",
                    description: "Electrical system may need inspection and potential upgrades"
                }
            ],
            summary: "This 3-room apartment offers good value in a desirable Oslo location. While it has some maintenance needs, the strong points outweigh the concerns for most buyers.",
            bottomLine: "A solid investment opportunity with room for value-add improvements. Priced competitively for the area."
        };

        // API Response format (wrapped) - this simulates what your API returns
        const apiResponseFormat = {
            analysis: testAnalysisData
        };

        // Set up the data automatically
        localStorage.setItem('analysisResult', JSON.stringify(apiResponseFormat));
        localStorage.removeItem('analysisError');
        
        console.log('âœ… Test data set up successfully:', apiResponseFormat);
        
        // Redirect immediately
        window.location.href = '/analysis-result';
    </script>
</body>
</html>
